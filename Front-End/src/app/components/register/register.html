<div class="body-log-in">
    <div class="login-container">
        <div class="login-card">
            <h1 class="text-center">Registrarse</h1>

            <div class="tab-selector">
                <button class="tab-left" [ngClass]="emailPressed ? 'tab-active' : 'tab-inactive' " 
                (click)="changeMode()">Email</button>
                
                <button class="tab-right" [ngClass]="phonePressed ? 'tab-active' : 'tab-inactive' "
                    (click)="changeMode()">Teléfono</button>
            </div>

            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="form">
                
                <label for="nombre">Nombre</label>
                <input type="text" formControlName="nombre"> 
                @let validatorNom = registerForm.get('nombre');

                @if (validatorNom?.invalid && (validatorNom?.dirty || validatorNom?.touched)) {
                    @if(validatorNom?.hasError('required')){
                        <div class="alert-dialog">
                            El **Nombre** es requerido
                        </div>
                    }
                }


                <label for="apellidos">Apellidos</label>
                <input type="text" formControlName="apellidos">
                @let validatorApe = registerForm.get('apellidos');
                @if (validatorApe?.invalid && (validatorApe?.dirty || validatorApe?.touched)) {
                    @if (validatorApe?.hasError('required')) {
                        <div class="alert-dialog">
                            **Apellidos** Requeridos
                        </div>
                    }
                }

                <label for="email">Email</label>
                <input type="email" formControlName="email">
                @let validatorEmail = registerForm.get('email');
                @if (validatorEmail?.invalid && (validatorEmail?.dirty || validatorEmail?.touched)) {
                    @if (validatorEmail?.hasError('required')) {
                        <div class="alert-dialog">
                            **Email** Requerido
                        </div>
                    }
                    @if (validatorEmail?.hasError('email')) {
                        <div class="alert-dialog">
                            **Email** Invalido
                        </div>
                    }
                }

                <label for="password">Contraseña</label>
                <input type="password" formControlName="password">
                @let validatorPass = registerForm.get('password');
                @if (validatorPass?.invalid && (validatorPass?.dirty || validatorPass?.touched)) {
                    @if (validatorPass?.hasError('required')) {
                        <div class="alert-dialog">
                            **Contraseña** Requerida
                        </div>
                    }
                    @if (validatorPass?.hasError('pattern')) {
                        <div class="alert-dialog alert-pattern">
                            La contraseña debe cumplir con los requisitos de seguridad (mayúscula, minúscula, número, símbolo).
                        </div>
                    }
                }

                <label for="confirmpsswd">Confirmar Contraseña</label>
                <input type="password" formControlName="confirmpsswd">
                @let validatorConfirm = registerForm.get('confirmpsswd');
                @if (validatorConfirm?.invalid && (validatorConfirm?.dirty || validatorConfirm?.touched)) {
                    @if (validatorConfirm?.hasError('required')) {
                        <div class="alert-dialog">
                            **Confirmación** de contraseña requerida
                        </div>
                    }
                    @if (validatorConfirm?.hasError('pattern')) {
                        <div class="alert-dialog alert-pattern">
                            La confirmación debe cumplir los requisitos de seguridad.
                        </div>
                    }
                }

                @if (registerForm.errors?.['mismatch'] && validatorConfirm?.valid) {
                    <div class="alert-dialog alert-error-match">
                        Las contraseñas no coinciden.
                    </div>
                }
                
                <button type="submit" class="submit-button" [disabled]="registerForm.invalid">Registrar</button>
                
            </form>

        </div>
    </div>
</div>